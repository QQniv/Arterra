<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ARTERRA • Искусственная природа. Настоящий кофе.</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <!-- Preloader -->
  <div id="preloader" aria-hidden="true">
    <canvas id="dust"></canvas>
    <div class="loader-center">
      <div class="seed-to-bean" aria-hidden="true"></div>
      <div class="loader-caption">
        <span class="brand">ARTERRA</span>
        <span class="progress" id="progressText">Загрузка 0%</span>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="site-header">
    <div class="brand"><span class="logo">ARTERRA</span></div>
    <div class="header-actions">
      <button id="langToggle" class="lang-toggle" aria-label="Switch language">RU</button>
      <button id="menuToggle" class="menu-toggle" aria-label="Open menu">
        <span class="burger" aria-hidden="true"></span>
        <span class="menu-label" data-i18n="menu">Меню</span>
      </button>
    </div>
  </header>

  <!-- Overlay Menu -->
  <div id="menuOverlay" class="menu-overlay" aria-hidden="true">
    <div class="menu-inner">
      <nav class="menu-grid">
        <a href="#block-1" data-i18n="nav_tech">Технология</a>
        <a href="#block-3" data-i18n="nav_sustain">Устойчивость</a>
        <a href="#block-5" data-i18n="nav_products">Продукты</a>
        <a href="#block-6" data-i18n="nav_contact">Контакты</a>
      </nav>
      <button id="menuClose" class="menu-close" aria-label="Close menu">×</button>
    </div>
  </div>

  <!-- Fixed 3D bean -->
  <div class="bean-fixed" aria-hidden="true">
    <canvas id="bean"></canvas>
  </div>

  <!-- Side-rails content -->
  <main class="rails">
    <section class="rail rail-left" id="block-1">
      <h1 class="big">
        <span data-i18n="h1_line1">Искусственная природа.</span><br/>
        <span data-i18n="h1_line2">Настоящий кофе.</span>
      </h1>
      <p class="lead" data-i18n="hero_p">
        Мы выращиваем кофе в искусственных плантациях, чтобы прекратить вырубку лесов,
        стабилизировать качество и открыть новое поколение устойчивого вкуса.
      </p>
      <div class="cta-row">
        <a href="#block-3" class="btn" data-i18n="cta_method">Посмотреть метод</a>
        <a href="#block-5" class="link" data-i18n="cta_shop">Магазин (Москва)</a>
      </div>
    </section>

    <section class="spacer" id="block-2"></section>

    <section class="rail rail-right" id="block-3">
      <h2 data-i18n="tech_h2">Как устроены искусственные плантации</h2>
      <p class="muted" data-i18n="tech_lead">
        Контролируемый свет. Точные питательные элементы. Рециркуляция воды. Нулевая потеря леса.
        Наши биотех-теплицы создают стабильный микроклимат и повторяемый профиль вкуса.
      </p>
      <div class="bullets">
        <div class="b"><h3 data-i18n="card1_h">Точная вегетация</h3><p data-i18n="card1_p">Сетки датчиков отслеживают влажность, pH, EC и транспирацию кроны. ИИ держит микроклимат в ±0,2°C.</p></div>
        <div class="b"><h3 data-i18n="card2_h">Круговорот воды</h3><p data-i18n="card2_p">Замкнутое орошение возвращает &gt;90% конденсата. Меньше воды — чище выражение терруара.</p></div>
        <div class="b"><h3 data-i18n="card3_h">Без вырубки</h3><p data-i18n="card3_p">Выход с м² превосходит традиционные плантации — кофе больше не зависит от лесных площадей.</p></div>
      </div>
    </section>

    <section class="spacer"></section>

    <section class="rail rail-left" id="block-5">
      <h2 data-i18n="products_h2">Продукты</h2>
      <p class="muted" data-i18n="products_lead">Чистая сетка для запуска в Москве. Оплата/интеграции подключим позже.</p>
      <div class="products">
        <div class="pc"><div class="thumb"></div><h4 data-i18n="prodA_h">Прототип РОСТ A</h4><p data-i18n="prodA_p">Карамель, цитрус, какао. 250 г</p><button class="btn small" disabled data-i18n="prod_soon">Скоро</button></div>
        <div class="pc"><div class="thumb"></div><h4 data-i18n="prodB_h">Прототип РОСТ B</h4><p data-i18n="prodB_p">Красные ягоды, цветы, шёлковистое тело. 250 г</p><button class="btn small" disabled data-i18n="prod_soon">Скоро</button></div>
        <div class="pc"><div class="thumb"></div><h4 data-i18n="prodC_h">Зелёный кофе (B2B)</h4><p data-i18n="prodC_p">Ровные лоты для кофеен и обжарщиков.</p><button class="btn small" disabled data-i18n="prod_inquiry">Запрос</button></div>
      </div>
    </section>

    <section class="spacer" id="block-6"></section>

    <section class="rail rail-right">
      <h2 data-i18n="contact_h2">Контакты</h2>
      <p class="muted" data-i18n="contact_lead">Опт и пресса: hello@arterra.coffee (временный адрес)</p>
    </section>

    <footer class="site-footer">© <span id="year"></span> Arterra</footer>
  </main>

  <!-- Bootstrap progress while the module loads -->
  <script>
    (function(){
      const el = document.getElementById('progressText'); if(!el) return;
      let p = 0; window.__arterraPreloaderBoot = setInterval(()=>{ p=Math.min(99,p+1+Math.random()*2); el.textContent='Загрузка '+Math.floor(p)+'%'; },120);
    })();
  </script>

  <!-- ES Modules: Three + Loaders + App -->
  <script type="module">
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js';
    import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/GLTFLoader.js';
    import { DRACOLoader } from 'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/DRACOLoader.js';
    import initApp from './app.module.js';
    initApp({ THREE, GLTFLoader, DRACOLoader });
  </script>

  <noscript>Для корректной работы включите JavaScript.</noscript>
</body>
</html>
